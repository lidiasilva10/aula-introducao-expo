"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4240,2657,7795,1447],{59998:function(e,t,r){r.d(t,{fz:function(){return f},rQ:function(){return i},r0:function(){return a}});var n=r(81862),u=r(50853),s=(r(21531),r(87246),r(60452),r(23395),r(67904),r(69460),r(99099)),i=(0,n._)((function(e,t){return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return!t.success||s.kk?[3,1]:[2,t.data];case 1:return[4,e()];case 2:return[2,r.sent()];case 3:return[2]}}))})),o="search_key",a=function(e,t,r,n){if(void 0===t&&(t=""),void 0===r&&(r={}),s.kk)return{result:e||t,success:!0};if(!r||!e)return{result:t,success:!1};var u=!1,i=e.replace(/\{.+}/g,(function(e){var t,s=e.substring(1,e.length-1);return!s||s!==o&&!r[s]||s===o&&!(null==n?void 0:n.keywords)&&!r[s]?(u=!0,""):s===o&&null!=(t=null==n?void 0:n.keywords)?t:r[s]}));return u?{result:t,success:!1}:{result:i,success:!0}};r(80978),r(11183);var c=r(96526),l=r(16056);function f(e){var t=(0,c.createContext)(null),r=t.Provider;return{ComponentContext:t,ComponentProvider:r,useComponentStore:function(e,r){var n=(0,c.useContext)(t);if(!n)throw new Error("Missing ComponentContext.Provider in the Node");return(0,l.oR)(n,e,r)},useComponentNSStore:function(e,r,n){var u=(0,c.useContext)(t);if(!u)throw new Error("Missing ComponentContext.Provider in the Node");return(0,l.oR)(u,(function(t){return r(t[e])}),n)},useComponentStoreRef:function(){var e=(0,c.useContext)(t);if(!e)throw new Error("Missing ComponentContext.Provider in the Node");return e},createComponentStore:e}}new(function(){function e(){}var t=e.prototype;return t.reset=function(){this.startTime=Date.now()},t.printCost=function(e){console.log("%c [cost "+(Date.now()-this.startTime)+" ms]"+e,"background: #222; color: #bada55")},e}())},98744:function(e,t,r){r.d(t,{N1:function(){return y},af:function(){return w},eX:function(){return R},Vs:function(){return L}});var n=r(81862),u=r(94761),s=r(8226),i=r(50853),o=(r(4256),r(17385),r(93801),r(60452),r(23395),r(91560),r(69460),r(38969),r(5127),r(17206),r(80978),r(11183),r(96526)),a=r(89714),c=r(16056),l=r(69440),f=r(67151),d=r(32032),v=r.n(d),p=r(54807),h=r(3440),m=r.n(h),_=r(71644),S=r.n(_),g=(r(91211),r(70309),r(99492),function(e){return{fetchDs:(0,n._)((function(t){return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all(t.map((function(t){return e.post({url:"/api/jade/swiss/kp/ds",params:t})})))];case 1:return[2,r.sent().map((function(e){return e.result}))]}}))})),fetchBatch:(0,n._)((function(t){var r,n;return(0,i.__generator)(this,(function(u){switch(u.label){case 0:return 0===t.length?[2,Promise.resolve([])]:[4,e.post({url:"/api/jade/swiss/kp/ssr/batch_ds",params:{batch_req:t}})];case 1:return[2,null==(n=u.sent())||null==(r=n.result)?void 0:r.batchRes]}}))}))}}),$=r(91715),b=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},w=function(e){var t=e.$service,r=e.listId,o=e.isBrowser;return(0,a.M)()((0,l.XR)((function(e,a,c){var l=c.subscribe;return{$reqList:[],$uniqReqList:[],$service:t,$resList:[],$listId:null!=r?r:(0,p.x0)(6),$isBrowser:o,service:g(t),$hasHydratedIds:[],$status:"pending",$resTime:0,$uniqDsId:"",createBatchGetter:function(t){return function(){return new Promise((function(r,n){var u,i=a().$resList,c=null==(u=a())?void 0:u.$status;if("rejected"===c&&!o)return r(void 0);if("fulfilled"===c){var f,d=null==i||null==(f=i.filter((function(e){return e.ids.includes(t)})))?void 0:f.map((function(e){return e.res}));return r(1===d.length?d[0]:d)}l((function(e){return{batchDataList:e.$resList,status:e.$status}}),(function(n){var u=n.batchDataList,i=n.status;if("rejected"===i&&!o)return r(void 0);if("fulfilled"===i){var c,l,f;if(null==(l=a())||null==(c=l.$hasHydratedIds)?void 0:c.includes(t))return;e((function(e){return{$hasHydratedIds:(0,s._)(e.$hasHydratedIds).concat([t])}}));var d=null==u||null==(f=u.filter((function(e){return null==e?void 0:e.ids.includes(t)})))?void 0:f.map((function(e){return e.res}));return r(1===d.length?d[0]:d)}}))}))}},factory:function(t){var r,n,i,o=t.compStore,c=t.id,l=(t.node,null==o||null==(i=o.getState)||null==(n=i.call(o))||null==(r=n.registerBatchParams)?void 0:r.call(n));if(l){var f=(Array.isArray(l)?l:[l]).map((function(e,t){var r;return{params:(0,u._)({},(0,$.fZ)(e),{listId:null==(r=a())?void 0:r.$listId}),id:c,idx:t}}),[]);e((function(e){return{$reqList:(0,s._)(e.$reqList).concat((0,s._)(f))}}))}return{batchGetter:a().createBatchGetter(c)}},hydrate:(0,n._)((function(t){var r;return(0,i.__generator)(this,(function(n){if(a().$isBrowser){if(!t)return[2];e((function(e){return(0,u._)({},e,t,{$isBrowser:!0,$service:e.$service,service:e.service})})),"rejected"===t.$status&&(null==(r=a())||r.startRequest())}return[2]}))})),startRequest:(0,n._)((function(){var t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return"fulfilled"===a().$status?[2]:(t=Object.values(m()(a().$reqList,(function(e){var t;return null==(t=e.params)?void 0:t.dsId}))).map((function(e){return{params:e.map((function(e){return e.params})).reduce((function(e,t,r,n){return(0,u._)({},e,t,{limit:S()(n.map((function(e){return null==e?void 0:e.limit})))})}),{}),paramsList:e.map((function(e){return e.params})),ids:e.map((function(e){return e.id}))}})),e((function(){return{$uniqReqList:t}})),o?[4,a().$startCsrRequest()]:[3,2]);case 1:return r.sent(),[3,4];case 2:return[4,a().$startSsrRequest()];case 3:r.sent(),r.label=4;case 4:return[2]}}))})),$startSsrRequest:(0,n._)((function(){var t,r,n,u,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=a().$uniqReqList.map((function(e){return e.params})),r=t.map((function(e){return e.dsId})).sort((function(e,t){return e-t})),n=b(),[4,a().service.fetchBatch(t)];case 1:return u=i.sent(),s=b()-n,e((function(){return{$resTime:s,$uniqDsId:r.join(";")}})),a().$handleRes(u),[2]}}))})),$startCsrRequest:(0,n._)((function(){var e,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return e=a().$uniqReqList.map((function(e){return e.params})),[4,a().service.fetchDs(e)];case 1:return t=r.sent(),a().$handleRes(t),[2]}}))})),$handleRes:function(t){if(t||o){var r=v()(t,a().$uniqReqList,(function(e,t){return{ids:null==t?void 0:t.ids,req:t,res:e}}));e((function(){return{$resList:r,$status:"fulfilled"}}))}else e({$status:"rejected"})},needHydrateState:function(){return e((function(e){return{$resList:e.$resList.filter((function(t){return t.ids.some((function(t){return!e.$hasHydratedIds.includes(t)}))}))}})),a()}}})))},C=(0,o.createContext)(Object.create(null)),y=function(e){var t=e.children,r=e.batchStore,n=(0,o.useRef)(r);return(0,o.useEffect)((function(){window.batchStore=n.current.getState(),n.current.subscribe((function(e){window.batchStore=e}))}),[]),o.createElement(C.Provider,{value:n.current},t)};function L(){var e=(0,o.useContext)(C);if(!e)throw new Error("Missing GlobalContext.Provider in the tree");return e}function R(e,t){return(0,c.oR)(L(),e,null!=t?t:f.X)}},34951:function(e,t,r){r.d(t,{s:function(){return $}});var n=r(81862),u=r(87612),s=r(94761),i=r(50853),o=(r(80978),r(11183),r(92374),r(1697),r(91211),r(28088),r(91560),r(44936),r(96526)),a=r(99099),c=r(82469),l=r(67151),f=r(58099),d=r(4524),v=r(90389),p=r(98744),h=r(63739),m=r(14355),_=r(81110),S=r(54807);var g=[],$=function(e,t){var r=e.createComponentStore,$=e.replaceInitialState;void 0===t&&(t=g);var b=function(){var e=(0,d.CA)((function(e){return e.id})),t=(0,o.useRef)(!1),r=(0,o.useCallback)((function(){!t.current||a.kk?t.current=!0:console.warn("The server data (component ssr data) component has been initialized last time. A component cannot be initialized multiple times. Please check your code.")}),[t]),n=(0,v.s6)((function(t){var r=t.componentSsrDataMap;return{ssrData:null==r?void 0:r[e]}}),l.X);return(0,o.useMemo)((function(){return(0,s._)({},n,{hydrate:r,hydrated:t.current})}),[n,r,t.current])}(),w=b.ssrData,C=b.hydrated,y=b.hydrate,L=(0,d.CA)((function(e){return e.nodeInfo})),R=(0,d.CA)((function(e){return e.id})),q=(0,v.s6)((function(e){return e.$axiosHttp})),I=(0,v.s6)((function(e){return e.$service})),k=(0,v.s6)((function(e){return e.sysInfo})),x=(0,v.s6)((function(e){return e.pageBase})),D=(0,v.s6)((function(e){return e.pageSn})),P=(0,v.s6)((function(e){return e.serverTime})),B=(0,v.s6)((function(e){return e.eTrc})),A=(0,v.g0)(),j=(0,p.Vs)(),E=(0,h.l4)(),H=(0,o.useMemo)((function(){return(0,s._)({pageSn:D,sysInfo:k,serverTime:P,pageBase:x,eTrc:B},L,{id:R})}),[D,k,P,x,B,L,R]),T=(0,o.useCallback)((function(e){var t=(e=e||{}).store;if(!t)throw new Error("Component store reset must be passed to the store");var n=r();n.getState().__innerResetSelfStore=T,n.getState().__innerGlobalStore=A,n.setState({context:{$axiosHttp:q},nodeCommon:H,$service:I},!0),e.overrideState&&n.setState(e.overrideState,e.overrideStateReplace),n.setState((0,u._)({},_.fD,e.resetStoreId||(0,S.x0)()));var s=("function"==typeof $?$:function(e){return e})(Object.assign(Object.fromEntries(Object.getOwnPropertyNames(t.getState()).map((function(e){return[e,void 0]}))),n.getState()));return t.setState(s,!0),t}),[]),O=(0,o.useRef)(r());if(C)a.kk&&O.current.setState((0,m.JM)((0,s._)({},O.current.getState,w,{nodeCommon:H}),O.current.getState()));else{O.current.getState().__innerResetSelfStore=T,O.current.getState().__innerGlobalStore=A;var G="function"==typeof $?$:function(e){return e};O.current.setState((0,m.JM)(G((0,s._)({},w,{context:{$axiosHttp:q},nodeCommon:H,$service:I,sceneTrigger:(0,n._)((function(e){var t,r;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return H.cmptId?[4,null==(t=(r=A.getState()).sceneTrigger)?void 0:t.call(r,e,H.cmptId)]:[3,2];case 1:return[2,n.sent()];case 2:return[2,{}]}}))}))})),O.current.getState()));var M=O.current.getState()[_.tA];"function"==typeof M&&M(),y()}return C&&!a.kk&&console.error("The hook of useHydrate should be initialized only once, please check your component: "+(null==L?void 0:L.type)),(0,c.L)((function(){var e=[];return(0,n._)((function(){var t,r,n,u,s,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return u=void 0,(0,m.GS)(R,O.current,_.i8),R===_.Dx||L.parent===_.Dx?[3,2]:(o=null==L?void 0:L.parent)&&(null==L||null==(s=L.props)?void 0:s.dependsOnParent)?(a=(0,m.s5)(o,_.vL),e.push(a.dispose),[4,a]):[3,2];case 1:u=i.sent(),O.current.getState().__innerParentStore=u,i.label=2;case 2:return[4,O.current.getState().getInitialProps({isServer:!1,batchGetter:null==j||null==(n=j.getState)||null==(r=n.call(j))||null==(t=r.createBatchGetter)?void 0:t.call(r,R),shareStore:E})];case 3:return i.sent(),(0,m.GS)(R,O.current,_.vL),e.push((0,f.gc)({store:O.current,nodeId:R,nodeInfo:L,globalStore:A})),[2]}}))}))(),function(){for(var t=0;t<e.length;t++){var r=e[t];"function"==typeof r&&r()}}}),t),{componentStore:O.current}}}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/js/4240_60c13e1b69688aae.js.map