(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4212],{27798:function(e){e.exports={wrap:"wrap-1Ot06",normalizeWrap:"normalizeWrap-2U-Ub",optimalFont:"optimalFont-2DGUE",bounce:"bounce-3FuQZ"}},28236:function(e){e.exports={portalContainer:"portalContainer-3kURt",portalContainerEnablePointEvents:"portalContainerEnablePointEvents-snzLk"}},14212:function(e,t,n){"use strict";n.d(t,{ZP:function(){return D}});var a=n(87612),r=n(94761),o=n(89290),i=(n(44936),n(17385),n(96526)),s=n(72779),l=n.n(s),u=n(27798),c=n.n(u),d=n(77780),f=n(69683),v=n(4512),h=n(68775),p=n(23578),y=n(81862),m=n(50853),g=(n(69867),n(91560),n(45483),n(16056)),T=n(12),E=(n(12008),n(60452),n(23395),n(93801),function(e){return e.ENTER="enter_pop",e.RETAIN="retain_pop",e}({})),k=function(e){return e.INIT="init",e.READY="ready",e.SHOWING="showing",e.DESTROY="destroy",e.PENDING="pending",e}({}),M=n(44184),S=function(){function e(){this.modalTasks=[],this.initialized=!1,this.stashRegisterModalTasks=[]}var t=e.prototype;return t.init=function(e){var t,n=this,a=e.modalTasks;this.initialized?console.error("ModalManager has initialized!!!"):Array.isArray(a)&&(null==a?void 0:a.length)&&(this.modalTasks=a.map((function(e){return(0,r._)({},e,{status:k.INIT,hasShow:!1})})),null==(t=this.stashRegisterModalTasks)||t.forEach((function(e){n.register(e)})),this.initialized=!0)},t.register=function(e){var t,n=e||{},a=n.type,r=n.callBack;if(Array.isArray(this.modalTasks)&&(null==(t=this.modalTasks)?void 0:t.length)){var o=this.modalTasks.find((function(e){return e.type===a}));o&&(null==o?void 0:o.status)===k.INIT&&this.ready({rsType:o.rsType,type:a,callBack:r})}else this.stashRegisterModalTasks.push(e)},t.ready=function(e){var t=this.findTargetModalIndex(e.type),n=this.modalTasks[t],a=n&&n.status===k.INIT;return a&&(this.modalTasks[t]=(0,r._)({},n,{status:k.READY,callBack:e.callBack})),a},t.unRegister=function(e){var t=this.modalTasks.find((function(t){return t.type===e}));t&&(null==t?void 0:t.status)!==k.DESTROY&&(this.changeModalStatusByType(e,k.DESTROY),this.trigger(t.rsType).catch((function(){})))},t.dangerRemove=function(e){this.changeModalStatusByType(e,k.DESTROY,!0)},t.dangerRemoveMore=function(e){var t=this;e.forEach((function(e){e&&t.changeModalStatusByType(e,k.DESTROY,!0)}))},t.trigger=function(e){var t=this;return(0,y._)((function(){var n,a;return(0,m.__generator)(this,(function(r){switch(r.label){case 0:return t.hasShowingModal?[2]:(n=t.modalTasks.find((function(t){return t.rsType===e&&t.status===k.READY&&t.callBack})))&&"function"==typeof n.callBack?(t.changeModalStatusByType(n.type,k.PENDING),n.delayTime?[4,(0,M._)(n.delayTime)]:[3,2]):[3,4];case 1:r.sent(),r.label=2;case 2:return[4,n.callBack()];case 3:a=r.sent().success,t.changeModalStatusByType(n.type,a?k.SHOWING:k.DESTROY,a),r.label=4;case 4:return[2]}}))}))()},t.destroy=function(){this.modalTasks=[]},t.changeModalStatusByType=function(e,t,n){var a=this.modalTasks.findIndex((function(t){return t.type===e}));if(-1!==a){var o=this.modalTasks[a];this.modalTasks[a]=(0,r._)({},o,{status:t,hasShown:void 0!==n?!!n:!!o.hasShown})}},t.findTargetModalIndex=function(e){return this.modalTasks.findIndex((function(t){return t.type===e}))},(0,T._)(e,[{key:"hasShowingModal",get:function(){var e;return null==(e=this.modalTasks)?void 0:e.some((function(e){return[(k.SHOWING,k.PENDING)].includes(e.status)}))}},{key:"enterModalAllReady",get:function(){var e,t=null==(e=this.modalTasks)?void 0:e.filter((function(e){return e.rsType===E.ENTER&&e.display}));return(null==t?void 0:t.length)>0&&t.every((function(e){return e.status===k.READY}))}}]),e}(),_=n(99099),b=n(45891),N=(0,g.Ue)((function(e,t,n){return{modalManager:void 0,retainManager:(0,v.i5)(),overlayManager:(0,v.i5)(),modalTasks:void 0,hasExecuted:!1,prepareModalData:(0,y._)((function(e,t){var n,a;return(0,m.__generator)(this,(function(r){switch(r.label){case 0:n=[],r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.post("api/jade/fargo/batch_rs/get",(0,b.lv)(e,[],!0))];case 2:return(a=r.sent()).success&&a.result&&Object.keys(a.result).forEach((function(e){Array.isArray(a.result[e])&&a.result[e].forEach((function(t){n.push({rsType:e,type:t.type,delayTime:t.delayTime,display:t.display})}))})),[3,4];case 3:return r.sent(),n=[],[3,4];case 4:return[2,n]}}))})),initModalManager:function(e,n,a){if(_.jU){var r=Array.isArray(t().modalTasks)?t().modalTasks:[],o=t().modalManager||new S;t().modalManager=o,(null==r?void 0:r.some((function(e){return e.rsType===E.RETAIN&&e.display})))&&(t().retainManager=n),t().overlayManager||(t().overlayManager=a),o.init({modalTasks:r}),(null==o?void 0:o.enterModalAllReady)&&!t().hasExecuted&&t().execute()}},execute:function(){var n,a,r=t(),o=r.modalManager,i=r.modalTasks,s=r.retainManager;r.hasExecuted||(e({hasExecuted:!0,reportModalList:(null==o||null==(a=o.modalTasks)||null==(n=a.map((function(e){return"ready"!==(null==e?void 0:e.status)?(null==e?void 0:e.type)+"-unregistered":null==e?void 0:e.type})))?void 0:n.join("|"))||""}),o&&(o.trigger(E.ENTER),s&&(null==i?void 0:i.find((function(e){return e.rsType===E.RETAIN&&e.display})))&&s.push({taskType:"simple",callback:function(){o.trigger(E.RETAIN),console.log("trigger retain....")}})))}}})),I=n(90389),A=n(82469),R=(0,g.Ue)((function(e){return{activeModalNumber:0,mounted:function(){e((function(e){return{activeModalNumber:e.activeModalNumber+1}}))},unMounted:function(){e((function(e){return{activeModalNumber:e.activeModalNumber-1}}))}}})),w=(n(96391),n(87246),n(61017)),B=n(34161),D=function(e){var t,n=(0,I.s6)((function(e){return e.retainManager})),s=(0,I.s6)((function(e){return e.isRTL})),u=(0,i.useRef)(null),y=e||{},m=y.hideNativeCart,g=void 0===m||m,T=y.usePortal,E=void 0===T||T,k=y.enableScrollX,M=void 0!==k&&k,S=y.portalProps,b=void 0===S?{}:S,D=y.isBackToClose,C=void 0!==D&&D,O=y.onBackToClose,x=void 0===O?v.WY:O,L=y.customZIndex,P=y.modalType,Y=(null==e?void 0:e.overscrollBehavior)||"contain",z=(0,I.s6)((function(e){var t;return null==(t=e.sysInfo)?void 0:t.isIOSSystem})),U=(0,I.s6)((function(e){var t;return null==(t=e.sysInfo)?void 0:t.userAgent})),F=(0,I.s6)((function(e){var t,n;return null==(n=e.pageBiz)||null==(t=n.bizExt)?void 0:t.fbCheckNewApi})),j=function(e){var t=e.isIOSSystem,n=e.userAgent,a=e.useNewApi,r=void 0!==a&&a;if(_.jU){var o=window.innerHeight,i=screen.height,s=(0,w.Y0)(n);if("Facebook_Mobile_Feed"!==(0,B.FU)(window.location.search)._x_ns_placement)return!1;var l=window.screenTop;return(r?l>1/4*i:t?o<7*i/10||o===i:i-o<100)&&s===w.iw.Facebook}return!1}({isIOSSystem:z,userAgent:U,useNewApi:!!F});Y=j?"auto":Y;var G=e.responsiveManagers?(0,I.s6)((function(e){return e.overlayManager}),Object.is):null==(t=N.getState())?void 0:t.overlayManager,W=(0,o._)((0,i.useState)((function(){return e.modalId||"modal_id_"+(0,h.x)(10)})),1)[0],Z=function(e){var t=(0,o._)((0,i.useState)(!e),2),n=t[0],a=t[1];return(0,i.useEffect)((function(){a(!0)}),[]),{mounted:n}}(E).mounted;(0,A.L)((function(){return R.getState().mounted(),function(){return R.getState().unMounted()}}),[]),(0,i.useEffect)((function(){Z&&u.current&&u.current.focus()}),[Z,e.ariaFocusKey]),(0,i.useEffect)((function(){var e,t=W;W&&G&&(E?null==G||null==(e=G.push)||e.call(G,t,{hideNativeCart:g,overscrollBehavior:Y}):setTimeout((function(){var e;null==G||null==(e=G.push)||e.call(G,t,{hideNativeCart:g,overscrollBehavior:Y})}),1));return function(){var e;null==G||null==(e=G.removeById)||e.call(G,t)}}),[W,!!G]),(0,i.useEffect)((function(){var e;if(C)return null==n||null==(e=n.push)||e.call(n,x),function(){var e;null==n||null==(e=n.removeByRef)||e.call(n,x)}}),[x,C]),(0,i.useEffect)((function(){if("contain"===Y&&u.current&&Z){var e=0,t=0,n=function(n){e=n.touches[0].pageY,t=n.touches[0].pageX},a=function(n){var a="";M&&(a=n.touches[0].pageX>t?"right":"left"),(0,d.fY)(n,n.touches[0].pageY>e?"up":"down",a,s)},r=!!d.e$&&{passive:!1},o=u.current;return o.addEventListener("touchstart",n,r),o.addEventListener("touchmove",a,r),function(){o&&(o.removeEventListener("touchstart",n),o.removeEventListener("touchmove",a))}}}),[Y,Z,M,s]),(0,i.useEffect)((function(){if(Z){if(!z)return;if(!u.current||"function"!=typeof u.current.querySelectorAll)return;var e=u.current.querySelectorAll("[data-scroll]");if(!e||"function"!=typeof e.forEach)return;e.forEach((function(e){if(e)try{if(!e.classList.contains(c().bounce))return void e.classList.add(c().bounce)}catch(e){}}))}}),[Z]),(0,i.useEffect)((function(){P&&(0,p.A)("kuiper_common_modal_impr",{customTags:{commonModalType:P}})}),[P]);var H=function(){return i.createElement("div",{ref:u,className:l()(e.normalizePreset?c().normalizeWrap:c().wrap,e.className,(0,a._)({},c().optimalFont,e.optimalFont)),style:e.style,tabIndex:-1,role:"dialog","aria-modal":!0,onClick:function(t){t.stopPropagation(),t.target===t.currentTarget&&e.onClick&&e.onClick(t)}},e.children)};return E?i.createElement(f.Z,(0,r._)({enablePointEvents:!0,containerId:W,containerZIndex:L||9999},b),H()):H()}},69683:function(e,t,n){"use strict";var a=n(89290),r=(n(69867),n(67904),n(87246),n(93801),n(17385),n(44936),n(96526)),o=n(28236),i=n.n(o),s=n(85032),l=n(4512),u=n(99099);t.Z=function(e){var t=e.containerStyle,n=e.containerClassName,o=e.containerAttributes,c=e.enablePointEvents,d=e.disableDefaultClassName,f=e.containerId,v=void 0===f?"bg-simple-portal-container":f,h=e.containerZIndex,p=void 0===h?1003:h,y=e.children,m=e.parentEl,g=(0,r.useRef)([]),T=(0,a._)((0,r.useState)(null),2),E=T[0],k=T[1];return(0,r.useEffect)((function(){try{var e=document.querySelector("#"+v);if(e){for(var a=e.childNodes,r=[],s=0;s<a.length;s+=1)r.push(a.item(s));g.current=r}else{if(e=document.createElement("div"),o)for(var f=0,h=Object.keys(o);f<h.length;f++){var y=h[f];e.setAttribute(y,o[y])}if(t)for(var T=0,E=Object.keys(t);T<E.length;T++){var M=E[T];e.style[M]=t[M]}if(d||e.classList.add(i().portalContainer),c&&e.classList.add(i().portalContainerEnablePointEvents),n)for(var S=n.split(/\s/g).filter(l.yR),_=0;_<S.length;_++){var b=S[_];e.classList.add(b)}null!=p&&(e.style.zIndex=""+p),v&&(e.id=v);var N=document.body;"function"==typeof m?N=m():"string"==typeof m&&(N=document.querySelector(m)),N?N.appendChild(e):u.yG&&console.error("SimplePortal "+v+" parentEl empty")}return k(e),function(){try{document.body.removeChild(e)}catch(e){}}}catch(e){u.yG&&console.error(e)}}),[]),y&&u.jU&&E?(0,s.createPortal)(y,E):r.createElement(r.Fragment,null)}}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/js/4212_7944dc2c7f4d3e10.js.map